<!-- <!DOCTYPE html5> -->
<html>
<head>
<!-- <meta charset="UTF-8"> -->
<title>Hotel Chain</title>
<link rel="stylesheet" href="style.css"> 
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"> 
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> 
</head>
<body>
	<section class="header">
		<div class="container">
			<!-- <img src="images/logo.jpg"> -->
			<!-- <button type="button" class="register-button">Register</button> -->
			<button type="button" class="login-button" id='logButton' onclick="location.href='login.html'">Login</button>
			<button type="button" class="about-button" onclick="location.href='about_us.html'">About us</button>
		</div>
		<h1>Find a Hotel You Like</h1>
		<p>This is easy with our web-site</p>
		<!-- <div class="input-class">
			<input type="text" class="form-control" placeholder="Search">
			<div class="input-group-append">
				<button type="submit" class="input-group-text button">Search</button>
			</div>
		</div> -->
	</section>

	<section class="hotels">
		<h1>Hotels</h1>
		<div class="container">
			<div class="row" id="hotels">
<!--				<div class="col-md-4">-->
<!--					<a href="rooms.html#listofrooms">-->
<!--					<div class="hotels-box">-->
<!--						<div class="hotels-img">-->
<!--							<img src="images/logo.jpg">-->
<!--							<div class="countryCity"><span>Country#1, City#1</span></div>-->
<!--							<div class="rating">-->
<!--								<i class="fa fa-star"></i>-->
<!--								<i class="fa fa-star"></i>-->
<!--								<i class="fa fa-star"></i>-->
<!--								<i class="fa fa-star-half-o"></i>-->
<!--								<i class="fa fa-star-o"></i>-->
<!--							</div>-->
<!--						</div>-->
<!--						<div class="hotel-details">-->
<!--							<h4>Hotel</h4>-->
<!--							<p>Description 1</p>-->
<!--						</div>-->
<!--					</div>-->
<!--					</a>-->
<!--				</div>-->
<!--				<div class="col-md-4">-->
<!--					<a href="rooms.html">-->
<!--					<div class="hotels-box">-->
<!--						<div class="hotels-img">-->
<!--						<img src="images/logo.jpg">-->
<!--						<div class="countryCity"><p>$100</p></div>-->
<!--						<div class="rating">-->
<!--							<i class="fa fa-star"></i>-->
<!--							<i class="fa fa-star"></i>-->
<!--							<i class="fa fa-star"></i>-->
<!--							<i class="fa fa-star-half-o"></i>-->
<!--							<i class="fa fa-star-o"></i>-->
<!--						</div>-->
<!--						</div>-->
<!--						<div class="hotel-details">-->
<!--							<h4>Hotel Trivago</h4>-->
<!--							<p>This hotel is great because it is very much great and so great that you should be grateful about reading this great hotel</p>-->
<!--						</div>-->
<!--					</div>-->
<!--					</a>-->
<!--				</div>-->
<!--				<div class="col-md-4">-->
<!--					<a href="rooms.html">-->
<!--					<div class="hotels-box">-->
<!--						<div class="hotels-img">-->
<!--						<img src="images/logo.jpg">-->
<!--						<div class="countryCity"><p>$100</p></div>-->
<!--						<div class="rating">-->
<!--							<i class="fa fa-star"></i>-->
<!--							<i class="fa fa-star"></i>-->
<!--							<i class="fa fa-star"></i>-->
<!--							<i class="fa fa-star-half-o"></i>-->
<!--							<i class="fa fa-star-o"></i>-->
<!--						</div>-->
<!--						</div>-->
<!--						<div class="hotel-details">-->
<!--							<h4>Hotel Trivago</h4>-->
<!--							<p>This hotel is great because it is very much great and so great that you should be grateful about reading this great hotel</p>-->
<!--						</div>-->
<!--					</div>-->
<!--					</a>-->
<!--				</div>-->
<!--				<div class="col-md-4">-->
<!--					<a href="rooms.html">-->
<!--					<div class="hotels-box">-->
<!--						<div class="hotels-img">-->
<!--						<img src="images/logo.jpg">-->
<!--						<div class="countryCity"><p>$100</p></div>-->
<!--						<div class="rating">-->
<!--							<i class="fa fa-star"></i>-->
<!--							<i class="fa fa-star"></i>-->
<!--							<i class="fa fa-star"></i>-->
<!--							<i class="fa fa-star-half-o"></i>-->
<!--							<i class="fa fa-star-o"></i>-->
<!--						</div>-->
<!--						</div>-->
<!--						<div class="hotel-details">-->
<!--							<h4>Hotel Trivago</h4>-->
<!--							<p>This hotel is great because it is very much great and so great that you should be grateful about reading this great hotel</p>-->
<!--						</div>-->
<!--					</div>-->
<!--					</a>-->
<!--				</div>-->
<!--				<div class="col-md-4">-->
<!--					<a href="rooms.html">-->
<!--					<div class="hotels-box">-->
<!--						<div class="hotels-img">-->
<!--						<img src="images/logo.jpg">-->
<!--						<div class="countryCity"><p>$100</p></div>-->
<!--						<div class="rating">-->
<!--							<i class="fa fa-star"></i>-->
<!--							<i class="fa fa-star"></i>-->
<!--							<i class="fa fa-star"></i>-->
<!--							<i class="fa fa-star-half-o"></i>-->
<!--							<i class="fa fa-star-o"></i>-->
<!--						</div>-->
<!--						</div>-->
<!--						<div class="hotel-details">-->
<!--							<h4>Hotel Trivago</h4>-->
<!--							<p>This hotel is great because it is very much great and so great that you should be grateful about reading this great hotel</p>-->
<!--						</div>-->
<!--					</div>-->
<!--					</a>-->
<!--				</div>-->
			</div>
		</div>
	</section>
	<script>
		if(localStorage.getItem('loggedIn')) {
			const logButton = document.getElementById('logButton');
			logButton.innerText = "Logout";
		}
		const logButton = document.getElementById('logButton');
		logButton.addEventListener("click", (e) => {
			if(localStorage.getItem('loggedIn')) {
				e.preventDefault();
				localStorage.clear();
				const urlSplitted = window.location.href.split("/");
				urlSplitted[urlSplitted.length - 1] = 'index.html';
				window.location.href = urlSplitted.join("/");
			}
		});
		function append_hotel(hotel) {
			const html = document.createElement('div');
			html.setAttribute('class', 'col-md-4');
			const template = `
				<div class="hotel">
				<a href="rooms.html">
					<div class="hotels-box">
						<div class="hotels-img">
							<img src="${hotel.mainHotelPicture}"/>
							<div class="countryCity">${hotel.country + " " + hotel.city}</div>
							<div class="rating">
								<i class="fa fa-star${hotel.StarsCount < 2 ? '-o' : ''}"></i>
								<i class="fa fa-star${hotel.StarsCount < 3 ? '-o' : ''}"></i>
								<i class="fa fa-star${hotel.StarsCount < 4 ? '-o' : ''}"></i>
								<i class="fa fa-star${hotel.StarsCount < 5 ? '-o' : ''}"></i>
								<i class="fa fa-star${hotel.StarsCount < 6 ? '-o' : ''}"></i>
							</div>
						</div>
						<div class="hotel-details">
							<h4 class="hotelName">${hotel.name}</h4>
							<p class="hotelDescription">${hotel.description}</p>
						</div>
						<div class="hotel-status">
							<p class="hotelNumberOfFreeRooms">Free rooms: ${hotel.numberOfFreeRooms}</p>
						</div>
					</div>
				</a></div>`;
			html.innerHTML = template;
			document.getElementById('hotels').append(html);
		}
		fetch('http://localhost:8080/api/hotels')
				.then((res) => {
					if(res.ok) {
						res.json().then((hotels) => hotels.map(hotel => append_hotel(hotel)))
					}
				})
	</script>

<!-- <h2>Paging Application</h2>


<ul id="my-list"></ul>

<br>
<button id="prev-button">Previous</button>
<button id="next-button">Next</button> -->
</body>
</html>